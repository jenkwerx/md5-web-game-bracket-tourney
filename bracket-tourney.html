<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MD5 Bracket Tournament</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            color: #fff;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            text-align: center;
            font-size: 1.4em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.2em;
            }
            .container {
                padding: 10px;
            }
        }
        
        .input-section {
            margin-bottom: 30px;
        }
        
        textarea {
            width: 100%;
            height: 200px;
            padding: 15px;
            border-radius: 10px;
            border: none;
            font-size: 16px;
            resize: vertical;
            background: rgba(255, 255, 255, 0.9);
        }
        
        .btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 8px 25px;
            font-size: 0.9em;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 10px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        @media (max-width: 768px) {
            .btn {
                padding: 7px 20px;
                font-size: 0.8em;
            }
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .round-header {
            text-align: center;
            font-size: 1em;
            margin: 8px 0 6px 0;
            animation: bounce 1s ease-in-out;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }
        
        @media (max-width: 768px) {
            .round-header {
                font-size: 0.85em;
                margin: 6px 0;
            }
        }
        
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .matchup-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 10px;
            margin-bottom: 10px;
        }
        
        @media (max-width: 1024px) {
            .matchup-container {
                grid-template-columns: 1fr;
            }
        }
        
        .matchup {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            padding: 8px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .matchup h3 {
            font-size: 0.7em;
            margin-bottom: 6px;
        }
        
        .player {
            background: rgba(255, 255, 255, 0.2);
            padding: 6px;
            margin: 4px 0;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
            font-size: 0.63em;
        }
        
        @media (max-width: 768px) {
            .player {
                font-size: 0.6em;
                padding: 5px;
            }
        }
        
        .player.winner {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            color: #000;
            font-weight: bold;
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(132, 250, 176, 0.6);
        }
        
        .player.loser {
            opacity: 1;
            background: rgba(255, 255, 200, 0.3);
            color: #fff;
            font-weight: bold;
        }
        
        .player.loser > span:first-child {
            font-size: 1em;
        }
        
        .player.bye {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #000;
            font-style: italic;
        }
        
        .hash-value {
            font-family: monospace;
            font-size: 0.65em;
            opacity: 0.9;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 2px;
            max-width: 60%;
            word-break: break-all;
        }
        
        @media (max-width: 768px) {
            .hash-value {
                font-size: 0.55em;
                max-width: 50%;
            }
        }
        
        .hash-input {
            color: #fff;
            font-weight: normal;
        }
        
        .eliminated-section {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
        }
        
        .eliminated-content {
            background: rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 20px;
            max-width: 1200px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .eliminated-section h2 {
            color: #ff6b6b;
            font-size: 1.4em;
            margin-bottom: 15px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .eliminated-section h2 {
                font-size: 1.2em;
            }
            .eliminated-content {
                padding: 20px;
            }
        }
        
        .eliminated-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .eliminated-item {
            background: rgba(255, 107, 107, 0.2);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }
        
        .champion-section {
            text-align: center;
            padding: 25px 15px;
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            border-radius: 15px;
            color: #000;
            margin-top: 20px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        .champion-section h2 {
            font-size: 1.75em;
            margin-bottom: 15px;
        }
        
        .champion-section .name {
            font-size: 1.4em;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .champion-section h2 {
                font-size: 1.4em;
            }
            .champion-section .name {
                font-size: 1.2em;
            }
        }
        
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.5s;
            overflow: hidden;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .splash-content {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            max-width: 90%;
        }
        
        .splash-content h1 {
            font-size: 1.54em;
            margin-bottom: 15px;
            animation: bounce 1s ease-in-out infinite;
        }
        
        @media (max-width: 768px) {
            .splash-content h1 {
                font-size: 1.2em;
            }
            .splash-content {
                padding: 20px;
            }
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="mainTitle">üèÜ MD5 Bracket Tournament üèÜ</h1>
        
        <div id="inputSection" class="input-section">
            <h3 style="margin-bottom: 15px;">Enter Contestant Names (one per line, max 64):</h3>
            <textarea id="contestantInput" placeholder="John Doe&#10;Jane Smith&#10;Bob Johnson&#10;..."></textarea>
            <button class="btn" onclick="startTournament()">Start Tournament!</button>
        </div>
        
        <div id="eliminatedSection" class="hidden"></div>
        <div id="tournamentSection" class="hidden"></div>
        <div id="championSection" class="hidden"></div>
    </div>
    
    <script>
        // MD5 implementation
        function md5(string) {
            function rotateLeft(value, shift) {
                return (value << shift) | (value >>> (32 - shift));
            }
            
            function addUnsigned(x, y) {
                const lsw = (x & 0xFFFF) + (y & 0xFFFF);
                const msw = (x >> 16) + (y >> 16) + (lsw >> 16);
                return (msw << 16) | (lsw & 0xFFFF);
            }
            
            function F(x, y, z) { return (x & y) | ((~x) & z); }
            function G(x, y, z) { return (x & z) | (y & (~z)); }
            function H(x, y, z) { return x ^ y ^ z; }
            function I(x, y, z) { return y ^ (x | (~z)); }
            
            function FF(a, b, c, d, x, s, ac) {
                a = addUnsigned(a, addUnsigned(addUnsigned(F(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            }
            
            function GG(a, b, c, d, x, s, ac) {
                a = addUnsigned(a, addUnsigned(addUnsigned(G(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            }
            
            function HH(a, b, c, d, x, s, ac) {
                a = addUnsigned(a, addUnsigned(addUnsigned(H(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            }
            
            function II(a, b, c, d, x, s, ac) {
                a = addUnsigned(a, addUnsigned(addUnsigned(I(b, c, d), x), ac));
                return addUnsigned(rotateLeft(a, s), b);
            }
            
            function convertToWordArray(string) {
                let lWordCount;
                const lMessageLength = string.length;
                const lNumberOfWordsTemp1 = lMessageLength + 8;
                const lNumberOfWordsTemp2 = (lNumberOfWordsTemp1 - (lNumberOfWordsTemp1 % 64)) / 64;
                const lNumberOfWords = (lNumberOfWordsTemp2 + 1) * 16;
                const lWordArray = Array(lNumberOfWords - 1);
                let lBytePosition = 0;
                let lByteCount = 0;
                while (lByteCount < lMessageLength) {
                    lWordCount = (lByteCount - (lByteCount % 4)) / 4;
                    lBytePosition = (lByteCount % 4) * 8;
                    lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) << lBytePosition));
                    lByteCount++;
                }
                lWordCount = (lByteCount - (lByteCount % 4)) / 4;
                lBytePosition = (lByteCount % 4) * 8;
                lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);
                lWordArray[lNumberOfWords - 2] = lMessageLength << 3;
                lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;
                return lWordArray;
            }
            
            function wordToHex(lValue) {
                let wordToHexValue = "", wordToHexValueTemp = "", lByte, lCount;
                for (lCount = 0; lCount <= 3; lCount++) {
                    lByte = (lValue >>> (lCount * 8)) & 255;
                    wordToHexValueTemp = "0" + lByte.toString(16);
                    wordToHexValue = wordToHexValue + wordToHexValueTemp.substr(wordToHexValueTemp.length - 2, 2);
                }
                return wordToHexValue;
            }
            
            let x = [], k, AA, BB, CC, DD, a, b, c, d;
            const S11 = 7, S12 = 12, S13 = 17, S14 = 22;
            const S21 = 5, S22 = 9, S23 = 14, S24 = 20;
            const S31 = 4, S32 = 11, S33 = 16, S34 = 23;
            const S41 = 6, S42 = 10, S43 = 15, S44 = 21;
            
            x = convertToWordArray(string);
            a = 0x67452301; b = 0xEFCDAB89; c = 0x98BADCFE; d = 0x10325476;
            
            for (k = 0; k < x.length; k += 16) {
                AA = a; BB = b; CC = c; DD = d;
                a = FF(a, b, c, d, x[k + 0], S11, 0xD76AA478);
                d = FF(d, a, b, c, x[k + 1], S12, 0xE8C7B756);
                c = FF(c, d, a, b, x[k + 2], S13, 0x242070DB);
                b = FF(b, c, d, a, x[k + 3], S14, 0xC1BDCEEE);
                a = FF(a, b, c, d, x[k + 4], S11, 0xF57C0FAF);
                d = FF(d, a, b, c, x[k + 5], S12, 0x4787C62A);
                c = FF(c, d, a, b, x[k + 6], S13, 0xA8304613);
                b = FF(b, c, d, a, x[k + 7], S14, 0xFD469501);
                a = FF(a, b, c, d, x[k + 8], S11, 0x698098D8);
                d = FF(d, a, b, c, x[k + 9], S12, 0x8B44F7AF);
                c = FF(c, d, a, b, x[k + 10], S13, 0xFFFF5BB1);
                b = FF(b, c, d, a, x[k + 11], S14, 0x895CD7BE);
                a = FF(a, b, c, d, x[k + 12], S11, 0x6B901122);
                d = FF(d, a, b, c, x[k + 13], S12, 0xFD987193);
                c = FF(c, d, a, b, x[k + 14], S13, 0xA679438E);
                b = FF(b, c, d, a, x[k + 15], S14, 0x49B40821);
                a = GG(a, b, c, d, x[k + 1], S21, 0xF61E2562);
                d = GG(d, a, b, c, x[k + 6], S22, 0xC040B340);
                c = GG(c, d, a, b, x[k + 11], S23, 0x265E5A51);
                b = GG(b, c, d, a, x[k + 0], S24, 0xE9B6C7AA);
                a = GG(a, b, c, d, x[k + 5], S21, 0xD62F105D);
                d = GG(d, a, b, c, x[k + 10], S22, 0x2441453);
                c = GG(c, d, a, b, x[k + 15], S23, 0xD8A1E681);
                b = GG(b, c, d, a, x[k + 4], S24, 0xE7D3FBC8);
                a = GG(a, b, c, d, x[k + 9], S21, 0x21E1CDE6);
                d = GG(d, a, b, c, x[k + 14], S22, 0xC33707D6);
                c = GG(c, d, a, b, x[k + 3], S23, 0xF4D50D87);
                b = GG(b, c, d, a, x[k + 8], S24, 0x455A14ED);
                a = GG(a, b, c, d, x[k + 13], S21, 0xA9E3E905);
                d = GG(d, a, b, c, x[k + 2], S22, 0xFCEFA3F8);
                c = GG(c, d, a, b, x[k + 7], S23, 0x676F02D9);
                b = GG(b, c, d, a, x[k + 12], S24, 0x8D2A4C8A);
                a = HH(a, b, c, d, x[k + 5], S31, 0xFFFA3942);
                d = HH(d, a, b, c, x[k + 8], S32, 0x8771F681);
                c = HH(c, d, a, b, x[k + 11], S33, 0x6D9D6122);
                b = HH(b, c, d, a, x[k + 14], S34, 0xFDE5380C);
                a = HH(a, b, c, d, x[k + 1], S31, 0xA4BEEA44);
                d = HH(d, a, b, c, x[k + 4], S32, 0x4BDECFA9);
                c = HH(c, d, a, b, x[k + 7], S33, 0xF6BB4B60);
                b = HH(b, c, d, a, x[k + 10], S34, 0xBEBFBC70);
                a = HH(a, b, c, d, x[k + 13], S31, 0x289B7EC6);
                d = HH(d, a, b, c, x[k + 0], S32, 0xEAA127FA);
                c = HH(c, d, a, b, x[k + 3], S33, 0xD4EF3085);
                b = HH(b, c, d, a, x[k + 6], S34, 0x4881D05);
                a = HH(a, b, c, d, x[k + 9], S31, 0xD9D4D039);
                d = HH(d, a, b, c, x[k + 12], S32, 0xE6DB99E5);
                c = HH(c, d, a, b, x[k + 15], S33, 0x1FA27CF8);
                b = HH(b, c, d, a, x[k + 2], S34, 0xC4AC5665);
                a = II(a, b, c, d, x[k + 0], S41, 0xF4292244);
                d = II(d, a, b, c, x[k + 7], S42, 0x432AFF97);
                c = II(c, d, a, b, x[k + 14], S43, 0xAB9423A7);
                b = II(b, c, d, a, x[k + 5], S44, 0xFC93A039);
                a = II(a, b, c, d, x[k + 12], S41, 0x655B59C3);
                d = II(d, a, b, c, x[k + 3], S42, 0x8F0CCC92);
                c = II(c, d, a, b, x[k + 10], S43, 0xFFEFF47D);
                b = II(b, c, d, a, x[k + 1], S44, 0x85845DD1);
                a = II(a, b, c, d, x[k + 8], S41, 0x6FA87E4F);
                d = II(d, a, b, c, x[k + 15], S42, 0xFE2CE6E0);
                c = II(c, d, a, b, x[k + 6], S43, 0xA3014314);
                b = II(b, c, d, a, x[k + 13], S44, 0x4E0811A1);
                a = II(a, b, c, d, x[k + 4], S41, 0xF7537E82);
                d = II(d, a, b, c, x[k + 11], S42, 0xBD3AF235);
                c = II(c, d, a, b, x[k + 2], S43, 0x2AD7D2BB);
                b = II(b, c, d, a, x[k + 9], S44, 0xEB86D391);
                a = addUnsigned(a, AA);
                b = addUnsigned(b, BB);
                c = addUnsigned(c, CC);
                d = addUnsigned(d, DD);
            }
            
            return (wordToHex(a) + wordToHex(b) + wordToHex(c) + wordToHex(d)).toLowerCase();
        }
        
        const adjectives = [
            "BONKERS", "WACKY", "ZANY", "GOOFY", "SILLY", "ABSURD", "BIZARRE", "PECULIAR", "QUIRKY", "RIDICULOUS",
            "PREPOSTEROUS", "OUTRAGEOUS", "LUDICROUS", "NONSENSICAL", "SCREWY", "KOOKY", "LOONY", "NUTTY", "DIPPY", "DAFFY",
            "WONKY", "FUNKY", "JANKY", "SKETCHY", "DODGY", "FISHY", "SHADY", "SUSPECT", "DUBIOUS", "QUESTIONABLE",
            "GNARLY", "RADICAL", "TUBULAR", "BODACIOUS", "RIGHTEOUS", "STELLAR", "COSMIC", "GALACTIC", "ASTRONOMICAL", "METEORIC",
            "TURBO", "MEGA", "ULTRA", "HYPER", "SUPER", "EPIC", "LEGENDARY", "MYTHICAL", "FABLED", "STORIED",
            "JUMBO", "GINORMOUS", "HUMONGOUS", "COLOSSAL", "TITANIC", "MAMMOTH", "GARGANTUAN", "WHOPPING", "STUPENDOUS", "MONUMENTAL",
            "TINY", "PUNY", "ITTY-BITTY", "MICROSCOPIC", "MINUSCULE", "DIMINUTIVE", "PETITE", "COMPACT", "WEE", "TEENY",
            "FLUFFY", "FUZZY", "FURRY", "HAIRY", "SHAGGY", "SCRUFFY", "RAGGEDY", "TATTERED", "FRAYED", "THREADBARE",
            "SPARKLY", "GLITTERY", "SHIMMERY", "GLEAMING", "LUSTROUS", "RADIANT", "LUMINOUS", "INCANDESCENT", "PHOSPHORESCENT", "IRIDESCENT",
            "SQUISHY", "MUSHY", "GOOEY", "STICKY", "GLOPPY", "SLIMY", "OOZY", "DRIPPY", "MELTY", "SQUELCHY",
            "CRUNCHY", "CRISPY", "CRACKLY", "BRITTLE", "FLAKY", "CRUSTY", "CHEWY", "RUBBERY", "LEATHERY", "TOUGH",
            "BOUNCY", "SPRINGY", "JIGGLY", "WOBBLY", "WIGGLY", "JITTERY", "TWITCHY", "SHAKY", "TREMBLING", "QUIVERING",
            "ZIPPY", "SNAPPY", "PEPPY", "PERKY", "SPUNKY", "FRISKY", "FEISTY", "SASSY", "CHEEKY", "PLUCKY",
            "DROWSY", "SLEEPY", "DOZY", "GROGGY", "SLUGGISH", "LETHARGIC", "TORPID", "LANGUID", "LISTLESS", "LACKADAISICAL",
            "GRUMPY", "CRANKY", "SURLY", "ORNERY", "CANTANKEROUS", "CURMUDGEONLY", "IRRITABLE", "TESTY", "PRICKLY", "TOUCHY",
            "JOLLY", "MERRY", "GLEEFUL", "JUBILANT", "EXUBERANT", "BUOYANT", "CHIPPER", "VIVACIOUS", "EFFERVESCENT", "BREEZY",
            "MYSTERIOUS", "ENIGMATIC", "CRYPTIC", "ARCANE", "OBSCURE", "ESOTERIC", "RECONDITE", "ABSTRUSE", "INSCRUTABLE", "UNFATHOMABLE",
            "FLAMBOYANT", "OSTENTATIOUS", "GAUDY", "GARISH", "FLASHY", "SHOWY", "LOUD", "BOLD", "BRAZEN", "AUDACIOUS",
            "STEALTHY", "SNEAKY", "SURREPTITIOUS", "FURTIVE", "COVERT", "CLANDESTINE", "UNDERCOVER", "SECRETIVE", "HUSHED", "MUFFLED",
            "CHAOTIC", "UNRULY", "RAMBUNCTIOUS", "ROWDY", "BOISTEROUS", "RAUCOUS", "TUMULTUOUS", "TEMPESTUOUS", "TURBULENT", "STORMY"
        ];
        
        const nouns = [
            "PLATYPUS", "NARWHAL", "AXOLOTL", "CAPYBARA", "PANGOLIN", "QUOKKA", "MEERKAT", "LEMUR", "SLOTH", "ARMADILLO",
            "HEDGEHOG", "PORCUPINE", "CHINCHILLA", "FERRET", "WOMBAT", "KOALA", "OPOSSUM", "RACCOON", "BADGER", "OTTER",
            "WALRUS", "MANATEE", "DUGONG", "BELUGA", "DOLPHIN", "SQUID", "OCTOPUS", "JELLYFISH", "STARFISH", "SEAHORSE",
            "FLAMINGO", "PELICAN", "TOUCAN", "PUFFIN", "PENGUIN", "OSTRICH", "EMU", "CASSOWARY", "KIWI", "DODO",
            "UNICORN", "DRAGON", "PHOENIX", "GRIFFIN", "KRAKEN", "YETI", "SASQUATCH", "CHUPACABRA", "BASILISK", "MANTICORE",
            "POTATO", "PICKLE", "PRETZEL", "WAFFLE", "PANCAKE", "MUFFIN", "BAGEL", "DONUT", "CROISSANT", "BISCUIT",
            "CHEESE", "BUTTER", "YOGURT", "TOFU", "TEMPEH", "SEITAN", "HUMMUS", "GUACAMOLE", "SALSA", "QUESO",
            "NOODLE", "SPAGHETTI", "RAVIOLI", "GNOCCHI", "DUMPLING", "WONTON", "PIEROGI", "EMPANADA", "SAMOSA", "TACO",
            "BANANA", "KUMQUAT", "PAPAYA", "DURIAN", "DRAGONFRUIT", "STARFRUIT", "LYCHEE", "RAMBUTAN", "MANGOSTEEN", "PERSIMMON",
            "TURNIP", "RUTABAGA", "PARSNIP", "RADISH", "BEET", "LEEK", "SHALLOT", "SCALLION", "CHIVE", "WATERCRESS",
            "VOLCANO", "GEYSER", "AVALANCHE", "TORNADO", "TSUNAMI", "EARTHQUAKE", "BLIZZARD", "HURRICANE", "TYPHOON", "CYCLONE",
            "COMET", "ASTEROID", "METEOR", "NEBULA", "GALAXY", "QUASAR", "PULSAR", "SUPERNOVA", "BLACKHOLE", "WORMHOLE",
            "ROBOT", "CYBORG", "ANDROID", "AUTOMATON", "MACHINE", "GADGET", "GIZMO", "CONTRAPTION", "DOOHICKEY", "THINGAMAJIG",
            "WIZARD", "SORCERER", "WARLOCK", "WITCH", "MAGE", "ENCHANTER", "CONJURER", "NECROMANCER", "ALCHEMIST", "SHAMAN",
            "NINJA", "SAMURAI", "PIRATE", "VIKING", "KNIGHT", "GLADIATOR", "BARBARIAN", "BERSERKER", "WARRIOR", "CHAMPION",
            "GOBLIN", "TROLL", "ORC", "GNOME", "DWARF", "ELF", "HOBBIT", "PIXIE", "SPRITE", "FAIRY",
            "TOASTER", "BLENDER", "MICROWAVE", "REFRIGERATOR", "DISHWASHER", "VACUUM", "TELEVISION", "TELEPHONE", "CALCULATOR", "TYPEWRITER",
            "SOCK", "SPATULA", "WHISK", "LADLE", "COLANDER", "STRAINER", "GRATER", "PEELER", "CORKSCREW", "NUTCRACKER",
            "ACCORDION", "KAZOO", "TROMBONE", "TUBA", "BANJO", "UKULELE", "HARMONICA", "TAMBOURINE", "MARACAS", "BONGOS",
            "CACTUS", "MUSHROOM", "FERN", "MOSS", "LICHEN", "ALGAE", "KELP", "SEAWEED", "CORAL", "SPONGE"
        ];
        
        let tournament = {
            players: [],
            eliminated: [],
            timestamp: '',
            currentRound: 0,
            rounds: [],
            currentMatchIndex: 0,
            currentRoundName: '',
            bracketNumber: 1
        };
        
        function normalizeUsername(name) {
            return name.toLowerCase().replace(/[^a-z0-9]/g, '');
        }
        
        function startTournament() {
            const input = document.getElementById('contestantInput').value;
            const lines = input.split('\n').filter(line => line.trim());
            
            const uniquePlayers = new Map();
            lines.forEach(line => {
                const normalized = normalizeUsername(line.trim());
                if (normalized && !uniquePlayers.has(normalized)) {
                    uniquePlayers.set(normalized, line.trim());
                }
            });
            
            if (uniquePlayers.size < 2) {
                alert('Please enter at least 2 contestants!');
                return;
            }
            
            document.getElementById('inputSection').style.display = 'none';
            document.getElementById('mainTitle').style.display = 'none';
            
            tournament.timestamp = new Date().toISOString().replace(/[-:T.Z]/g, '').substring(0, 14);
            
            const playersArray = Array.from(uniquePlayers.entries()).map(([normalized, original]) => ({
                name: original,
                normalized: normalized,
                seedHash: md5(normalized + '~' + tournament.timestamp)
            }));
            
            playersArray.sort((a, b) => a.seedHash.localeCompare(b.seedHash));
            
            if (playersArray.length > 64) {
                tournament.eliminated = playersArray.slice(64);
                tournament.players = playersArray.slice(0, 64);
                showEliminated();
                return;
            } else {
                tournament.players = playersArray;
            }
            
            const tournamentSize = getTournamentSize(tournament.players.length);
            
            setupRounds(tournamentSize);
            
            showRoundSplash();
        }
        
        function getTournamentSize(count) {
            if (count <= 2) return 2;
            if (count <= 4) return 4;
            if (count <= 8) return 8;
            if (count <= 16) return 16;
            if (count <= 32) return 32;
            return 64;
        }
        
        function setupRounds(size) {
            const roundCount = Math.log2(size);
            tournament.rounds = [];
            
            for (let i = 0; i < roundCount; i++) {
                const matchesInRound = size / Math.pow(2, i + 1);
                tournament.rounds.push({
                    matches: [],
                    matchesRemaining: matchesInRound
                });
            }
            
            // Create first round matches ensuring BYEs never face each other
            const realPlayers = [...tournament.players];
            const totalMatches = size / 2;
            const byesNeeded = size - realPlayers.length;
            
            // Strategy: Distribute one BYE per match for as many matches as needed
            // This ensures BYEs are spread out and never face each other
            const matches = [];
            
            let playerIndex = 0;
            let byesDistributed = 0;
            
            // First pass: Create matches with one real player and one BYE
            while (byesDistributed < byesNeeded && playerIndex < realPlayers.length) {
                matches.push({
                    player1: realPlayers[playerIndex],
                    player2: { name: 'BYE', normalized: 'bye', isBye: true }
                });
                playerIndex++;
                byesDistributed++;
            }
            
            // Second pass: Pair remaining real players against each other
            while (playerIndex < realPlayers.length - 1) {
                matches.push({
                    player1: realPlayers[playerIndex],
                    player2: realPlayers[playerIndex + 1]
                });
                playerIndex += 2;
            }
            
            // Edge case: if one real player is left unpaired (shouldn't happen with correct math)
            if (playerIndex < realPlayers.length) {
                matches.push({
                    player1: realPlayers[playerIndex],
                    player2: { name: 'BYE', normalized: 'bye', isBye: true }
                });
                byesDistributed++;
            }
            
            tournament.rounds[0].matches = matches;
        }
        
        function showEliminated() {
            const section = document.getElementById('eliminatedSection');
            section.innerHTML = `
                <div class="eliminated-content">
                    <h2>üò¢ These Lowly Competitors Did Not Make the Tournament üò¢</h2>
                    <div class="eliminated-list">
                        ${tournament.eliminated.map(p => `<div class="eliminated-item">${p.name}</div>`).join('')}
                    </div>
                    <button class="btn" onclick="continueFromEliminated()" style="margin-top: 30px;">Continue to Tournament</button>
                </div>
            `;
            section.classList.remove('hidden');
        }
        
        function continueFromEliminated() {
            document.getElementById('eliminatedSection').classList.add('hidden');
            
            const tournamentSize = getTournamentSize(tournament.players.length);
            
            setupRounds(tournamentSize);
            showRoundSplash();
        }
        
        function showRoundSplash() {
            const roundNumber = tournament.currentRound + 1;
            const totalRounds = tournament.rounds.length;
            
            const adj1 = adjectives[Math.floor(Math.random() * adjectives.length)];
            const adj2 = adjectives[Math.floor(Math.random() * adjectives.length)];
            const noun = nouns[Math.floor(Math.random() * nouns.length)];
            
            if (tournament.currentRound === totalRounds - 3 && totalRounds > 2) {
                tournament.currentRoundName = `${adj1} ${adj2} ${noun} - SEMI-FINALS`;
            } else if (tournament.currentRound === totalRounds - 2 && totalRounds > 1) {
                tournament.currentRoundName = `${adj1} ${adj2} ${noun} - FINALS`;
            } else if (tournament.currentRound === totalRounds - 1) {
                tournament.currentRoundName = `${adj1} ${adj2} ${noun} - CHAMPIONSHIP`;
            } else {
                tournament.currentRoundName = `${adj1} ${adj2} ${noun}`;
            }
            
            tournament.bracketNumber = 1;
            
            // Get remaining players
            const remainingPlayers = [];
            if (tournament.currentRound === 0) {
                // First round - show all non-BYE players organized by actual bracket structure
                const round = tournament.rounds[0];
                
                const playersPerBracket = 8; // 4 matches = 8 players
                const bracketsNeeded = Math.ceil(round.matches.length / 4);
                
                let playersList = '<div style="margin-top: 30px; background: rgba(0,0,0,0.3); padding: 20px; border-radius: 15px;">';
                playersList += `<h3 style="text-align: center; margin-bottom: 20px; font-size: 1.3em;">üèÖ Tournament Bracket Structure üèÖ</h3>`;
                
                for (let i = 0; i < bracketsNeeded; i++) {
                    const start = i * 4;
                    const end = Math.min(start + 4, round.matches.length);
                    const bracketMatches = round.matches.slice(start, end);
                    
                    // Collect all non-BYE players from these matches
                    const bracketPlayers = [];
                    bracketMatches.forEach(match => {
                        if (!match.player1.isBye) bracketPlayers.push(match.player1);
                        if (!match.player2.isBye) bracketPlayers.push(match.player2);
                    });
                    
                    playersList += `<div style="margin: 15px 0;">`;
                    playersList += `<h4 style="color: #ffd700; margin-bottom: 10px;">Bracket ${i + 1} (${bracketPlayers.length} players)</h4>`;
                    playersList += `<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 8px;">`;
                    bracketPlayers.forEach(p => {
                        playersList += `<div style="background: rgba(255,255,255,0.2); padding: 8px; border-radius: 5px; font-size: 0.9em;">${p.name}</div>`;
                    });
                    playersList += `</div></div>`;
                }
                
                playersList += '</div>';
                
                const html = `
                    <div class="splash-screen">
                        <div class="splash-content" style="max-width: 95%; max-height: 90vh; overflow-y: auto;">
                            <h1>üéâ ${tournament.currentRoundName} üéâ</h1>
                            ${playersList}
                            <button class="btn" onclick="startRound()" style="margin-top: 20px;">Let's Go!</button>
                        </div>
                    </div>
                `;
                
                document.getElementById('tournamentSection').innerHTML = html;
                document.getElementById('tournamentSection').classList.remove('hidden');
                return;
            }
            
            // For subsequent rounds, show winners from previous round
            // For subsequent rounds, show winners from previous round
            const prevRound = tournament.rounds[tournament.currentRound - 1];
            prevRound.matches.forEach(match => {
                if (match.winner && !match.winner.isBye) {
                    remainingPlayers.push(match.winner);
                }
            });
            
            const playersPerBracket = 8; // 4 matches = 8 players
            let playersList = '<div style="margin-top: 30px; background: rgba(0,0,0,0.3); padding: 20px; border-radius: 15px;">';
            playersList += `<h3 style="text-align: center; margin-bottom: 20px; font-size: 1.3em;">üèÖ Remaining Competitors: ${remainingPlayers.length} üèÖ</h3>`;
            
            const bracketsNeeded = Math.ceil(remainingPlayers.length / playersPerBracket);
            for (let i = 0; i < bracketsNeeded; i++) {
                const start = i * playersPerBracket;
                const end = Math.min(start + playersPerBracket, remainingPlayers.length);
                const bracketPlayers = remainingPlayers.slice(start, end);
                
                playersList += `<div style="margin: 15px 0;">`;
                playersList += `<h4 style="color: #ffd700; margin-bottom: 10px;">Bracket ${i + 1}</h4>`;
                playersList += `<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 8px;">`;
                bracketPlayers.forEach(p => {
                    playersList += `<div style="background: rgba(255,255,255,0.2); padding: 8px; border-radius: 5px; font-size: 0.9em;">${p.name}</div>`;
                });
                playersList += `</div></div>`;
            }
            
            playersList += '</div>';
            
            const html = `
                <div class="splash-screen">
                    <div class="splash-content" style="max-width: 95%; max-height: 90vh; overflow-y: auto;">
                        <h1>üéâ ${tournament.currentRoundName} üéâ</h1>
                        ${playersList}
                        <button class="btn" onclick="startRound()" style="margin-top: 20px;">Let's Go!</button>
                    </div>
                </div>
            `;
            
            document.getElementById('tournamentSection').innerHTML = html;
            document.getElementById('tournamentSection').classList.remove('hidden');
        }
        
        function startRound() {
            showNextMatches();
        }
        
        function showNextMatches() {
            const round = tournament.rounds[tournament.currentRound];
            const matches = round.matches.slice(tournament.currentMatchIndex, tournament.currentMatchIndex + 4);
            
            if (matches.length === 0) {
                nextRound();
                return;
            }
            
            const roundNumber = tournament.currentRound + 1;
            
            let html = `<div class="round-header">üéâ ${tournament.currentRoundName} - Bracket ${tournament.bracketNumber} üéâ</div>`;
            html += '<div class="matchup-container">';
            
            matches.forEach((match, idx) => {
                const actualMatchNumber = tournament.currentMatchIndex + idx;
                const result = resolveMatch(match, roundNumber, actualMatchNumber);
                
                html += `
                    <div class="matchup">
                        <h3 style="text-align: center; margin-bottom: 15px;">Match ${actualMatchNumber + 1}</h3>
                        <div class="player ${result.winner === 0 ? 'winner' : 'loser'} ${match.player1.isBye ? 'bye' : ''}">
                            <span>${match.player1.name}</span>
                            ${!match.player1.isBye ? `<div class="hash-value"><span class="hash-input">Input: ${result.input1}</span><span>MD5: ${result.hash1}</span></div>` : ''}
                        </div>
                        <div style="text-align: center; margin: 6px 0; font-size: 1em;">VS</div>
                        <div class="player ${result.winner === 1 ? 'winner' : 'loser'} ${match.player2.isBye ? 'bye' : ''}">
                            <span>${match.player2.name}</span>
                            ${!match.player2.isBye ? `<div class="hash-value"><span class="hash-input">Input: ${result.input2}</span><span>MD5: ${result.hash2}</span></div>` : ''}
                        </div>
                        <div style="text-align: center; margin-top: 6px; font-weight: bold; color: #ffd700; font-size: 0.67em;">
                            Winner: ${result.winnerPlayer.name}
                        </div>
                    </div>
                `;
                
                match.winner = result.winnerPlayer;
            });
            
            html += '</div>';
            
            const isLastBatch = tournament.currentMatchIndex + 4 >= round.matches.length;
            const buttonText = isLastBatch ? 'Round Complete - Next Round!' : 'Continue!';
            html += `<button class="btn" onclick="continueMatches()">${buttonText}</button>`;
            
            document.getElementById('tournamentSection').innerHTML = html;
        }
        
        function resolveMatch(match, roundNumber, matchNumber) {
            if (match.player1.isBye) {
                return { winner: 1, winnerPlayer: match.player2, hash1: 'BYE', hash2: 'N/A', input1: 'BYE', input2: 'N/A' };
            }
            if (match.player2.isBye) {
                return { winner: 0, winnerPlayer: match.player1, hash1: 'N/A', hash2: 'BYE', input1: 'N/A', input2: 'BYE' };
            }
            
            const input1 = `${roundNumber}~${match.player1.normalized}~${tournament.timestamp}`;
            const input2 = `${roundNumber}~${match.player2.normalized}~${tournament.timestamp}`;
            const hash1 = md5(input1);
            const hash2 = md5(input2);
            
            const winner = hash1 < hash2 ? 0 : 1;
            const winnerPlayer = winner === 0 ? match.player1 : match.player2;
            
            return { winner, winnerPlayer, hash1, hash2, input1, input2 };
        }
        
        function continueMatches() {
            tournament.currentMatchIndex += 4;
            
            if (tournament.currentMatchIndex >= tournament.rounds[tournament.currentRound].matches.length) {
                nextRound();
            } else {
                tournament.bracketNumber++;
                showNextMatches();
            }
        }
        
        function nextRound() {
            const currentRound = tournament.rounds[tournament.currentRound];
            
            if (tournament.currentRound === tournament.rounds.length - 1) {
                showChampion(currentRound.matches[0].winner);
                return;
            }
            
            const nextRound = tournament.rounds[tournament.currentRound + 1];
            nextRound.matches = [];
            
            for (let i = 0; i < currentRound.matches.length; i += 2) {
                nextRound.matches.push({
                    player1: currentRound.matches[i].winner,
                    player2: currentRound.matches[i + 1].winner
                });
            }
            
            tournament.currentRound++;
            tournament.currentMatchIndex = 0;
            showRoundSplash();
        }
        
        function showChampion(winner) {
            const html = `
                <div class="champion-section">
                    <h2>üèÜ TOURNAMENT CHAMPION! üèÜ</h2>
                    <div class="name">${winner.name}</div>
                    <div style="margin-top: 30px; font-size: 1.5em;">
                        Congratulations to our ultimate victor!
                    </div>
                    <button class="btn" onclick="location.reload()" style="margin-top: 30px;">Start New Tournament</button>
                </div>
            `;
            
            document.getElementById('championSection').innerHTML = html;
            document.getElementById('championSection').classList.remove('hidden');
            document.getElementById('tournamentSection').classList.add('hidden');
        }
    </script>
</body>
</html>